(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{116:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=(a(22),a(56)),l=a.n(c),i=a(57),u=a(55),s=a(14),o=a(58),f=a.n(o),m=(a(67),a(68)),b=a(69),d=a(70),O=a(76),j=a(72),v=a(75),h=a(54);function E(e){var t=Object(n.useState)(v.a),a=Object(s.a)(t,1)[0],c=Object(n.useState)(v.a),o=Object(s.a)(c,2),E=o[0],p=o[1],w=Object(n.useState)({}),g=Object(s.a)(w,2),C=g[0],L=g[1],S=Object(n.useState)([]),k=Object(s.a)(S,2),N=k[0],D=k[1],R=Object(n.useState)([]),y=Object(s.a)(R,2),x=y[0],B=y[1],F=Object(n.useState)(null),J=Object(s.a)(F,2),T=J[0],G=J[1];Object(n.useEffect)(function(){var e=v.a.filter(function(e){return"U Stadtmitte"===e.name}),t=Object(s.a)(e,1)[0],n=t.id;L(t),I(n);var r=a.filter(function(e){return e.name!==t.name}),c=[t].concat(Object(u.a)(r));p(c)},[]);var H=Object(n.useRef)(null),P=Object(n.useRef)(null),U=Object(n.useRef)(null),q=function(e){var t=N.filter(function(t){for(var a=!1,n=0;n<e.length;n++)if(t.line.name.toLowerCase().includes(e[n].toLowerCase())||t.direction.toLowerCase().includes(e[n].toLowerCase())){a=!0;break}return a});B(t)},z=function(e){var t=N.filter(function(t){for(var a=!0,n=0;n<e.length;n++)if(!t.line.name.toLowerCase().includes(e[n].toLowerCase())&&!t.direction.toLowerCase().includes(e[n].toLowerCase())){a=!1;break}return a});B(t)},A=function(){B(N)},I=function(){var e=Object(i.a)(l.a.mark(function e(t){var n,r,c,i,u,o,m,b,d,O,j;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.filter(function(e){return e.id===t}),r=Object(s.a)(n,1),c=r[0],i=c.type,u=void 0===i?"BBG":i,o=Object(h.a)(u),m="https://sklinkusch-vbbmicro.now.sh/?station=".concat(t,"&duration=").concat(o,"&mode=arr"),e.next=7,f.a.get(m);case 7:return b=e.sent,e.next=10,b;case 10:d=e.sent,O=d.data,500===(j=d.status)||200!==j?(G("HTTP status code: ".concat(j)),D([])):(D(O),B(O),G(null));case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"timetable"},r.a.createElement(m.a,{filterStops:function(e){!function(e){var t=a.filter(function(t){return t.id!==C.id&&t.name.toLowerCase().includes(e.toLowerCase())}),n=[C].concat(Object(u.a)(t));p(n)}(e.target.value)},inputField:H}),r.a.createElement(b.a,{handleChange:function(e){L(e);var t=e.id;I(t),H.current.value="",P.current.value="",U.current.value="OR"},selection:E,stop:C}),r.a.createElement(d.a,{handleSubmit:function(){I(C.id),H.current.value="",P.current.value="",U.current.value="OR"}}),r.a.createElement(j.a,{filterField:P,filterSelector:U,filterData:function(e){var t=P.current.value.split(" "),a=U.current.value;t.length>0?"OR"===a?q(t):z(t):A()},mode:"arr"}),r.a.createElement(O.a,{stop:C,data:x,error:T,mode:"arr"}))}var p=a(73),w=a(8);a(74);function g(){return r.a.createElement("div",{className:"legend"},r.a.createElement("h3",{className:"col-24"},Object(w.a)("legend")),r.a.createElement(p.a,{left:Object(w.a)("scheduled"),right:Object(w.a)("scheduledDesc")}),r.a.createElement(p.a,{left:Object(w.a)("real"),right:Object(w.a)("realDesc")}),r.a.createElement(p.a,{left:Object(w.a)("delay"),right:Object(w.a)("delayDesc")}),r.a.createElement(p.a,{left:Object(w.a)("line"),right:Object(w.a)("lineDesc")}),r.a.createElement(p.a,{left:Object(w.a)("from"),right:Object(w.a)("fromDesc")}),r.a.createElement(p.a,{left:r.a.createElement("span",{className:"fas fa-wheelchair"}),right:Object(w.a)("barrierfree")}),r.a.createElement(p.a,{left:r.a.createElement("span",{className:"fas fa-bicycle"}),right:Object(w.a)("bike")}),r.a.createElement(p.a,{left:r.a.createElement("span",{className:"fas fa-exclamation-triangle"}),right:Object(w.a)("attention")}),r.a.createElement(p.a,{left:r.a.createElement("span",{className:"fas fa-times"}),right:Object(w.a)("cancelled")}))}t.default=function(){return r.a.createElement("div",null,r.a.createElement(g,null),r.a.createElement(E,null))}}}]);
//# sourceMappingURL=5.bb12fb2b.chunk.js.map