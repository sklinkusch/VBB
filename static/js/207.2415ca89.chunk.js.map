{"version":3,"file":"static/js/207.2415ca89.chunk.js","mappings":"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","sources":["components/Departure/Departure.tsx"],"sourcesContent":["/** @jsxImportSource theme-ui */\nimport { Fragment, lazy } from \"react\"\nconst Time = lazy(() => import(\"../Time/Time\"))\nconst Product = lazy(() => import(\"../Product/Product\"))\nconst Line = lazy(() => import(\"../Line/Line\"))\nconst Barrier = lazy(() => import(\"../Barrier/Barrier\"))\nconst Bike = lazy(() => import(\"../Bike/Bike\"))\nconst Warning = lazy(() => import(\"../Warning/Warning\"))\nconst Status = lazy(() => import(\"../Status/Status\"))\nconst Warntext = lazy(() => import(\"../Warntext/Warntext\"))\nconst Stattext = lazy(() => import(\"../Stattext/Stattext\"))\n\ntype Remarks = {\n\tcode: string | undefined\n\tsummary: string | null | undefined\n\ttext: string | undefined\n\ttype: string | undefined\n\tvalidFrom: string | undefined\n\tvalidUntil: string | undefined\n}[]\n\ntype LINE_A = {\n\tcolor: {\n\t\tfg: string\n\t\tbg: string\n\t}\n\texpress: boolean\n\tfahrtNr: string\n\tid: string\n\tmetro: boolean\n\tmode: string\n\tname: string\n\tnight: boolean\n\tnr: number\n\tproduct: \"regional\" | \"suburban\" | \"subway\"\n}\n\ntype LINE_B = {\n\texpress: boolean\n\tfahrtNr: string\n\tid: string\n\tmetro: boolean\n\tmode: string\n\tname: string\n\tnight: boolean\n\tnr: number\n\tproduct: \"express\" | \"tram\" | \"bus\" | \"ferry\"\n}\n\ntype Props = {\n\tdep: {\n\t\tcancelled: boolean | undefined\n\t\tdelay: number | null\n\t\tdirection: string | null\n\t\tformerScheduledWhen?: string\n\t\tline: LINE_A | LINE_B\n\t\tplannedPlatform?: string\n\t\tplannedWhen?: string\n\t\tplatform?: number | string\n\t\tprognosedPlatform?: string\n\t\tprognosisType: string | null | undefined\n\t\tprovenance: string | null\n\t\tremarks: Remarks\n\t\tscheduledWhen?: string\n\t\tstop: {\n\t\t\tid: string\n\t\t\tname: string\n\t\t}\n\t\ttripId: string\n\t\twhen?: string\n\t}\n}\n\nexport const getDelay = (\n\tdelay: number | null | undefined,\n\tcancelled: boolean | null | undefined\n) => {\n\tif (delay != null) {\n\t\treturn Math.floor(delay / 60)\n\t} else if (cancelled) {\n\t\treturn \"X\"\n\t} else {\n\t\treturn \"?\"\n\t}\n}\n\nexport const getPlanTime = (realtime: string, delay: number) => {\n\tlet hours = Number(realtime.substring(0, 2))\n\tlet minutes = Number(realtime.substring(3, 5))\n\tminutes -= delay\n\tif (minutes < 0) {\n\t\tminutes += 60\n\t\thours -= 1\n\t}\n\tif (minutes > 59) {\n\t\tminutes -= 60\n\t\thours += 1\n\t}\n\tif (hours < 0) {\n\t\thours += 24\n\t}\n\tif (hours > 23) {\n\t\thours -= 24\n\t}\n\tlet hourString = hours < 10 ? `0${hours}` : `${hours}`\n\tlet minuteString = minutes < 10 ? `0${minutes}` : `${minutes}`\n\treturn `${hourString}:${minuteString}`\n}\n\nexport const getTime = (timestamp: string | undefined | null) => {\n\tif (timestamp != null) {\n\t\treturn timestamp.substring(11, 16)\n\t} else {\n\t\treturn \"\"\n\t}\n}\n\nconst Departure = (props: Props) => {\n\tlet delayMin\n\tif (props.dep.cancelled) {\n\t\tdelayMin = getDelay(props.dep.delay, props.dep.cancelled)\n\t} else {\n\t\tdelayMin = getDelay(props.dep.delay, false)\n\t}\n\tlet realtime = getTime(props.dep.when)\n\tlet plantime\n\tif (props.dep.when != null && props.dep.delay != null) {\n\t\tplantime = getPlanTime(realtime, Number(delayMin))\n\t} else if (props.dep.when != null && delayMin === \"?\") {\n\t\tplantime = realtime\n\t\trealtime = \"\"\n\t} else {\n\t\tplantime =\n\t\t\tgetTime(props.dep.formerScheduledWhen) ||\n\t\t\tgetTime(props.dep.scheduledWhen) ||\n\t\t\tgetTime(props.dep.plannedWhen)\n\t}\n\tconst {\n\t\tline,\n\t\tdirection,\n\t\tremarks,\n\t\tplatform,\n\t\tplannedPlatform,\n\t\tprognosedPlatform,\n\t} = props.dep\n\treturn (\n\t\t<Fragment>\n\t\t\t<div\n\t\t\t\tclassName=\"row\"\n\t\t\t\tkey={props.dep.tripId}\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"grid\",\n\t\t\t\t\tgridTemplateColumns: \"repeat(24,1fr)\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Time time={plantime} class=\"plantime\" />\n\t\t\t\t<Time time={realtime} class=\"realtime\" />\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"delay\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\ttextAlign: [\"center\", \"center\", \"right\"],\n\t\t\t\t\t\tgridColumn: [\"17 / span 8\", \"5 / span 2\"],\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{delayMin}\n\t\t\t\t</div>\n\t\t\t\t<Product line={line} />\n\t\t\t\t<Line line={line} />\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"direction\"\n\t\t\t\t\tsx={{ textAlign: \"left\", gridColumn: [\"8 / span 13\", \"11 / span 8\"] }}\n\t\t\t\t>\n\t\t\t\t\t{direction}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"platform\"\n\t\t\t\t\tsx={{\n\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\tgridColumn: [\"22 / span 3\", \"19 / span 2\"],\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{platform || plannedPlatform || prognosedPlatform}\n\t\t\t\t</div>\n\t\t\t\t<Barrier remarks={remarks} />\n\t\t\t\t<Bike remarks={remarks} />\n\t\t\t\t<Warning remarks={remarks} />\n\t\t\t\t<Status remarks={remarks} />\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName=\"row row-add\"\n\t\t\t\tkey={`add:${props.dep.tripId}`}\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"grid\",\n\t\t\t\t\tgridTemplateColumns: \"repeat(24, 1fr)\",\n\t\t\t\t\tborderBottom: [\"1px solid #ccc\", \"1px solid #ccc\", \"none\"],\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Warntext remarks={remarks} />\n\t\t\t\t<Stattext remarks={remarks} />\n\t\t\t</div>\n\t\t</Fragment>\n\t)\n}\n\nexport default Departure\n"],"names":["Time","lazy","Product","Line","Barrier","Bike","Warning","Status","Warntext","Stattext","getDelay","delay","cancelled","Math","floor","getPlanTime","realtime","hours","Number","substring","minutes","hourString","minuteString","getTime","timestamp","props","delayMin","dep","plantime","when","formerScheduledWhen","scheduledWhen","plannedWhen","line","direction","remarks","platform","plannedPlatform","prognosedPlatform","Fragment","className","sx","display","gridTemplateColumns","time","class","textAlign","gridColumn","tripId","borderBottom"],"sourceRoot":""}