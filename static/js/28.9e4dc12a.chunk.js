(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{128:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return w});var a=n(77),r=n.n(a),c=n(78),u=n(33),i=n(18),o=n(1),l=n.n(o),s=n(79),f=n.n(s),b=n(76),d=n(103),O=Object(o.lazy)(function(){return n.e(7).then(n.bind(null,89))}),v=Object(o.lazy)(function(){return n.e(8).then(n.bind(null,90))}),j=Object(o.lazy)(function(){return n.e(5).then(n.bind(null,91))}),m=Object(o.lazy)(function(){return n.e(6).then(n.bind(null,92))}),p=Object(o.lazy)(function(){return n.e(11).then(n.bind(null,93))});function w(e){var t=Object(o.useState)(d.a),n=Object(i.a)(t,1)[0],a=Object(o.useState)(d.a),s=Object(i.a)(a,2),w=s[0],h=s[1],C=Object(o.useState)({}),L=Object(i.a)(C,2),S=L[0],k=L[1],y=Object(o.useState)([]),E=Object(i.a)(y,2),g=E[0],R=E[1],z=Object(o.useState)([]),x=Object(i.a)(z,2),B=x[0],F=x[1],J=Object(o.useState)(null),T=Object(i.a)(J,2),D=T[0],G=T[1];Object(o.useEffect)(function(){var e=d.a.filter(function(e){return"U Stadtmitte"===e.name}),t=Object(i.a)(e,1)[0],a=t.id;k(t),I(a);var r=n.filter(function(e){return e.name!==t.name}),c=[t].concat(Object(u.a)(r));h(c)},[]);var H=Object(o.useRef)(null),N=Object(o.useRef)(null),P=Object(o.useRef)(null),U=function(e){var t=g.filter(function(t){for(var n=!1,a=0;a<e.length;a++)if(t.line.name.toLowerCase().includes(e[a].toLowerCase())||t.direction.toLowerCase().includes(e[a].toLowerCase())){n=!0;break}return n});F(t)},q=function(e){var t=g.filter(function(t){for(var n=!0,a=0;a<e.length;a++)if(!t.line.name.toLowerCase().includes(e[a].toLowerCase())&&!t.direction.toLowerCase().includes(e[a].toLowerCase())){n=!1;break}return n});F(t)},A=function(){F(g)},I=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,c,u,o,l,s,d,O,v,j,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.filter(function(e){return e.id===t}),c=Object(i.a)(a,1),u=c[0],o=u.type,l=void 0===o?"BBG":o,s=Object(b.a)(l),d="https://sklinkusch-vbbmicro.vercel.app/?station=".concat(t,"&duration=").concat(s,"&mode=arr"),e.next=7,f.a.get(d);case 7:return O=e.sent,e.next=10,O;case 10:v=e.sent,j=v.data,500===(m=v.status)||200!==m?(G("HTTP status code: ".concat(m)),R([])):(R(j),F(j),G(null));case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"timetable"},l.a.createElement(O,{filterStops:function(e){!function(e){var t=n.filter(function(t){return t.id!==S.id&&t.name.toLowerCase().includes(e.toLowerCase())}),a=[S].concat(Object(u.a)(t));h(a)}(e.target.value)},inputField:H}),l.a.createElement(v,{handleChange:function(e){k(e);var t=e.id;I(t),H.current.value="",N.current.value="",P.current.value="OR"},selection:w,stop:S}),l.a.createElement(j,{handleSubmit:function(){I(S.id),H.current.value="",N.current.value="",P.current.value="OR"}}),l.a.createElement(m,{filterField:N,filterSelector:P,filterData:function(e){var t=N.current.value.split(" "),n=P.current.value;t.length>0?"OR"===n?U(t):q(t):A()},mode:"arr"}),l.a.createElement(p,{stop:S,data:B,error:D,mode:"arr"}))}}}]);
//# sourceMappingURL=28.9e4dc12a.chunk.js.map