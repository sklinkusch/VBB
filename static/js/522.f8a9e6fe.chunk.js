"use strict";(self.webpackChunkvbb=self.webpackChunkvbb||[]).push([[522],{7522:function(r,n,e){e.r(n),e.d(n,{getDelay:function(){return b},getPlanTime:function(){return g},getTime:function(){return v}});var t=e(2791),a=e(4373),i=e(8705),l=e(9922),c=(0,t.lazy)((function(){return e.e(272).then(e.bind(e,5272))})),u=(0,t.lazy)((function(){return e.e(48).then(e.bind(e,1048))})),o=(0,t.lazy)((function(){return Promise.resolve().then(e.bind(e,6049))})),s=(0,t.lazy)((function(){return e.e(302).then(e.bind(e,6302))})),d=(0,t.lazy)((function(){return e.e(734).then(e.bind(e,734))})),h=(0,t.lazy)((function(){return e.e(619).then(e.bind(e,619))})),m=(0,t.lazy)((function(){return e.e(776).then(e.bind(e,7776))})),f=(0,t.lazy)((function(){return e.e(558).then(e.bind(e,4558))})),p=(0,t.lazy)((function(){return e.e(525).then(e.bind(e,1525))})),b=function(r,n){if(null!=r){var e=Math.abs(r/60);return Math.round(e)}return n?"X":"?"},g=function(r,n){var e=Number(r.substring(0,2)),t=Number(r.substring(3,5));(t-=n)<0&&(t+=60,e-=1),t>59&&(t-=60,e+=1),e<0&&(e+=24),e>23&&(e-=24);var a=e<10?"0".concat(e):"".concat(e),i=t<10?"0".concat(t):"".concat(t);return"".concat(a,":").concat(i)},v=function(r){return null!=r?r.substring(11,16):""};n.default=function(r){var n,e,y=function(r){var n=4*Math.atan(1),e=r.currentTripPosition,t=r.stop;if(e){var a=e.latitude,i=e.longitude,l=t.location,c=n*a/180,u=n*l.latitude/180,o=n*(i-l.longitude)/180,s=Math.sin(c)*Math.sin(u)+Math.cos(c)*Math.cos(u)*Math.cos(o);return 180*Math.acos(s)/n*60*1.1515}return null}(r.arr);"number"===typeof(n=r.arr.cancelled?b(r.arr.delay,r.arr.cancelled):b(r.arr.delay,!1))?e="".concat(n<0?"\u2013":n>0?"+":"\xb1").concat(n):e=n;var Z,k=v(r.arr.when);null!=r.arr.when&&null!=r.arr.delay?Z=g(k,Number(n)):null!=r.arr.when&&"?"===n?(Z=k,k=""):Z=v(r.arr.formerScheduledWhen)||v(r.arr.scheduledWhen)||v(r.arr.plannedWhen);var x=r.arr,z=x.line,M=x.provenance,w=x.remarks,N=x.platform;return(0,l.BX)(t.Fragment,{children:[(0,l.BX)("div",{className:"row",sx:{display:"grid",gridTemplateColumns:["repeat(24,1fr)","repeat(24,1fr)","repeat(26,1fr)"]},children:[(0,l.tZ)(c,{time:Z,class:"plantime"}),(0,l.tZ)(c,{time:k,class:"realtime"}),(0,l.tZ)("div",{className:"delay",sx:{textAlign:["center","center","right"],gridColumn:["17 / span 8","5 / span 2"]},children:e}),(0,l.tZ)(u,{line:z}),(0,l.tZ)(o,{line:z}),(0,l.tZ)("div",{className:"direction",sx:{textAlign:"left",gridColumn:["8 / span 13","11 / span 8"]},children:M}),(0,l.tZ)("div",{className:"platform",sx:{textAlign:"center",gridColumn:["22 / span 3","19 / span 2"]},children:N}),(0,l.tZ)(s,{remarks:w}),(0,l.tZ)(d,{remarks:w}),(0,l.tZ)(h,{remarks:w}),(0,l.tZ)(m,{remarks:w}),(0,l.tZ)(i.Z,{operator:z.operator})]},r.arr.tripId),(0,l.BX)("div",{className:"row row-add",sx:{display:"grid",gridTemplateColumns:"repeat(24, 1fr)",borderBottom:["1px solid #ccc","1px solid #ccc","none"]},children:[(0,l.tZ)(a.r,{distance:y}),(0,l.tZ)(f,{remarks:w}),(0,l.tZ)(p,{remarks:w})]},"add:".concat(r.arr.tripId))]})}}}]);
//# sourceMappingURL=522.f8a9e6fe.chunk.js.map