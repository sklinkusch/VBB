{"version":3,"file":"static/js/964.7df002c3.chunk.js","mappings":"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","sources":["components/Button/Button.tsx","components/Filter/Filter.tsx","components/Input/Input.tsx","components/Legendrow/Legendrow.tsx","components/Select/Select.tsx","components/LegendDep/LegendDep.tsx","components/Timetable/Timetable.tsx","pages/VBBDepartures.tsx"],"sourcesContent":["/** @jsxImportSource theme-ui */\nimport { Fragment, MouseEventHandler } from \"react\";\n\ntype Props = {\n  handleSubmit: MouseEventHandler\n}\n\nexport default function Button({ handleSubmit }: Props) {\n  return (\n    <Fragment>\n      <button onClick={handleSubmit} sx={{ padding: \"5px\", backgroundColor: \"#ccc\", opacity: 1 }}>\n        <i className=\"fas fa-redo-alt\" />\n      </button>\n    </Fragment>\n  );\n}\n","/** @jsxImportSource theme-ui */\nimport React, { ChangeEventHandler } from \"react\"\nimport getLocale from \"../Locales/getLocale\"\n\ntype Props = {\n  mode: string,\n  filterField: React.Ref<HTMLInputElement>,\n  filterSelector: React.Ref<HTMLSelectElement>\n  filterData: ChangeEventHandler\n}\n\nexport default function Filter(props: Props) {\n  const { filterField, filterSelector, filterData, mode = \"dep\" } = props\n  return (\n    <div>\n      <input\n        type=\"text\"\n        placeholder={mode === \"dep\" ? getLocale(\"filterDepartures\") : getLocale(\"filterArrivals\")}\n        ref={filterField}\n        onChange={(event) => props.filterData(event)}\n        sx={{ padding: \"5px\", opacity: 1, backgroundColor: \"#fff\", width: \"300px\", maxWidth: \"90%\" }}\n      />\n      <select ref={filterSelector} onChange={filterData} sx={{ padding: \"5px\", backgroundColor: \"#ccc\", opacity: 1, width: \"400px\", maxWidth: \"90%\", mx: \"10px\" }}>\n        <option value=\"OR\">{getLocale(\"filterOr\")}</option>\n        <option value=\"AND\">{getLocale(\"filterAnd\")}</option>\n      </select>\n    </div>\n  )\n}\n","/** @jsxImportSource theme-ui */\nimport { Fragment } from \"react\"\nimport getLocale from \"../Locales/getLocale\"\n\ntype Props = {\n  filterStops: Function,\n  inputField: React.Ref<HTMLInputElement>\n}\n\nexport default function Input({ filterStops, inputField }: Props) {\n  return (\n    <Fragment>\n      <input\n        type=\"text\"\n        onChange={(event) => filterStops(event)}\n        ref={inputField}\n        placeholder={getLocale(\"filterStops\")}\n        sx={{ padding: \"5px\", opacity: 1, backgroundColor: \"#fff\", width: \"300px\", maxWidth: \"90%\" }}\n      />\n    </Fragment>\n  )\n}\n","/** @jsxImportSource theme-ui */\nimport React from \"react\";\n\ntype Props = {\n  left: any,\n  right: string\n}\n\nexport default function Legendrow({left, right}: Props) {\n  return (\n    <React.Fragment>\n      <div className=\"legendleft\" sx={{ gridColumn: \"1 / span 4\" }}>{left}</div>\n      <div className=\"legendright\" sx={{ textAlign: \"left\", gridColumn: \"5 / span 20\" }}>{right}</div>\n    </React.Fragment>\n  );\n}\n","/** @jsxImportSource theme-ui */\nimport { Fragment } from \"react\"\nimport { useNavigate } from \"react-router-dom\"\n\ntype Stop = {\n  id: string,\n  name: string,\n}\n\ntype Props = {\n  handleChange: Function,\n  mode: string,\n  stop: Stop,\n  selection: Stop[]\n}\n\nexport default function Select(props: Props) {\n  const { handleChange, selection, stop, mode } = props\n  const navigate = useNavigate()\n  return (\n    <Fragment>\n      <select\n        value={stop.id}\n        sx={{ padding: \"5px\", backgroundColor: \"#ccc\", opacity: 1, width: \"400px\", maxWidth: \"90%\", mx: \"10px\" }}\n        onChange={(event) => {\n          const id = event.target.value\n          const stop = selection.filter((stop) => stop.id === id)[0]\n          return handleChange(stop)\n        }}\n      >\n        {selection &&\n          selection.length >= 1 &&\n          selection.map((stop, index) => (\n            <option onClick={() => navigate(mode === 'arr' ? `/arrivals/${stop.id}` : `/departures/${stop.id}`)} key={`${stop.id}-${index}`} value={stop.id}>\n              {stop.name}\n            </option>\n          ))}\n      </select>\n    </Fragment>\n  )\n}\n","/** @jsxImportSource theme-ui */\nimport Legendrow from \"../Legendrow/Legendrow\";\nimport getLocale from \"../Locales/getLocale\";\n\nexport default function LegendDep() {\n  return (\n    <div className=\"legend\" sx={{ display: [\"none\", \"none\", \"grid\"], gridTemplateColumns: \"repeat(24,1fr)\", border: \"2px solid black\", width: \"70%\", margin: \"0 auto 40px auto\", borderRadius: \"10px\" }}>\n      <h3 sx={{ gridColumn: \"1 / span 24\" }}>{getLocale(\"legend\")}</h3>\n      <Legendrow\n        left={getLocale(\"scheduled\")}\n        right={getLocale(\"scheduledDesc\")}\n      />\n      <Legendrow\n        left={getLocale(\"real\")}\n        right={getLocale(\"realDesc\")}\n      />\n      <Legendrow left={getLocale(\"delay\")} right={getLocale(\"delayDesc\")} />\n      <Legendrow left={getLocale(\"line\")} right={getLocale(\"lineDesc\")} />\n      <Legendrow left={getLocale(\"direction\")} right={getLocale(\"directionDesc\")} />\n      <Legendrow\n        left={<span className=\"fas fa-wheelchair\" />}\n        right={getLocale(\"barrierfree\")}\n      />\n      <Legendrow\n        left={<span className=\"fas fa-bicycle\" />}\n        right={getLocale(\"bike\")}\n      />\n      <Legendrow\n        left={<span className=\"fas fa-exclamation-triangle\" />}\n        right={getLocale(\"attention\")}\n      />\n      <Legendrow\n        left={<span className=\"fas fa-times\" />}\n        right={getLocale(\"cancelled\")}\n      />\n    </div>\n  );\n}\n","/** @jsxImportSource theme-ui */\nimport { useRef, useEffect } from \"react\"\nimport { useParams, useNavigate } from \"react-router-dom\"\nimport { useDebugState } from \"use-named-state\"\nimport axios from \"axios\"\nimport { getDuration } from \"../helpers/helpers\"\nimport stops from \"../../data/stops\"\nimport Input from \"../Input/Input\"\nimport Select from \"../Select/Select\"\nimport Button from \"../Button/Button\"\nimport Filter from \"../Filter/Filter\"\nimport StopBody from \"../StopBody/StopBody\"\n// const Input = lazy(() => import(\"./Input\"))\n// const Select = lazy(() => import(\"./Select\"))\n// const Button = lazy(() => import(\"./Button\"))\n// const Filter = lazy(() => import(\"./Filter\"))\n// const StopBody = lazy(() => import(\"./StopBody\"))\n/* eslint-disable react-hooks/exhaustive-deps */\n\ntype Remarks = {\n\tcode: string | undefined\n\tsummary: string | null | undefined\n\ttext: string\n\ttype: string\n\tvalidFrom: string | undefined\n\tvalidUntil: string | undefined\n}[]\n\ntype Dataset = {\n\tcancelled: boolean | undefined\n\tdelay: number | null\n\tdirection: string | null\n\tformerScheduledWhen?: string\n\tline: {\n\t\texpress: boolean\n\t\tmetro: boolean\n\t\tmode: string\n\t\tname: string\n\t\tnight: boolean\n\t\tproduct: string\n\t\ttype: string\n\t}\n\tplannedPlatform?: string\n\tplannedWhen?: string\n\tplatform?: number | string\n\tprognosedPlatform?: string\n\tprognosisType: string | null | undefined\n\tprovenance: string | null\n\tremarks: Remarks\n\tscheduledWhen?: string\n\tstop: {\n\t\tid: string\n\t\tname: string\n\t}\n\ttripId: string\n\twhen?: string\n}\n\ntype Stop = {\n\tid: string\n\tname: string\n\ttype?: string\n}\n\ntype Data = Dataset[]\n\nexport default function Timetable() {\n\tconst [selection, setSelection] = useDebugState<Stop[]>(\"selection\", stops)\n\tconst [stop, setStop] = useDebugState<Stop>(\"stop\", {\n\t\tid: \"\",\n\t\tname: \"\",\n\t\ttype: \"\",\n\t})\n\tconst [data, setData] = useDebugState<Data>(\"data\", [])\n\tconst [date, setDate] = useDebugState<string>(\"date\", \"\")\n\tconst [viewData, setViewData] = useDebugState<Data>(\"viewData\", [])\n\tconst [error, setError] = useDebugState<any>(\"error\", null)\n\tconst params = useParams()\n\tconst navigate = useNavigate()\n\tuseEffect(() => {\n\t\tif (\n\t\t\tparams.hasOwnProperty(\"id\") &&\n\t\t\ttypeof params.id === \"string\" &&\n\t\t\tparams.id.length > 0\n\t\t) {\n\t\t\tconst selectedStop = stops.filter((stop) => stop.id === params.id)[0]\n\t\t\tnavigate(`/departures/${params.id}`)\n\t\t\tsetStop(selectedStop)\n\t\t\tgetData(params.id)\n\t\t\tconst remainingStops = stops.filter(\n\t\t\t\t(stop) => stop.name !== selectedStop.name\n\t\t\t)\n\t\t\tconst stopSelection = [selectedStop, ...remainingStops]\n\t\t\tsetSelection(stopSelection)\n\t\t} else {\n\t\t\tconst initialStopArray = stops.filter(\n\t\t\t\t(stop) => stop.name === \"U Stadtmitte\"\n\t\t\t)\n\t\t\tconst [initialStop] = initialStopArray\n\t\t\tconst { id: initialId } = initialStop\n\t\t\tnavigate(`/departures/${initialId}`)\n\t\t\tsetStop(initialStop)\n\t\t\tgetData(initialId)\n\t\t\tconst remainingStops = stops.filter(\n\t\t\t\t(stop) => stop.name !== initialStop.name\n\t\t\t)\n\t\t\tconst stopSelection = [initialStop, ...remainingStops]\n\t\t\tsetSelection(stopSelection)\n\t\t}\n\t}, [])\n\tconst inputField = useRef<HTMLInputElement>(null)\n\tconst filterField = useRef<HTMLInputElement>(null)\n\tconst filterSelector = useRef<HTMLSelectElement>(null)\n\tconst filterData = () => {\n\t\tconst fieldCurrent = filterField.current as HTMLInputElement\n\t\tconst { value: fieldValue } = fieldCurrent\n\t\tconst filterValues = fieldValue.split(\" \")\n\t\tconst selectorCurrent = filterSelector.current as HTMLSelectElement\n\t\tconst { value: filterMode } = selectorCurrent\n\t\tif (filterValues.length > 0) {\n\t\t\tif (filterMode === \"OR\") {\n\t\t\t\tfilterOr(filterValues)\n\t\t\t} else {\n\t\t\t\tfilterAnd(filterValues)\n\t\t\t}\n\t\t} else {\n\t\t\tnoFilters()\n\t\t}\n\t}\n\tconst filterOr = (filterValues: string[]) => {\n\t\tconst filteredData = data.filter((departure) => {\n\t\t\tlet decider = false\n\t\t\tif (departure.hasOwnProperty(\"direction\") && departure.direction) {\n\t\t\t\tfor (let i = 0; i < filterValues.length; i++) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tdeparture.line.name\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.includes(filterValues[i].toLowerCase()) ||\n\t\t\t\t\t\tdeparture.direction\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.includes(filterValues[i].toLowerCase())\n\t\t\t\t\t) {\n\t\t\t\t\t\tdecider = true\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn decider\n\t\t})\n\t\tsetViewData(filteredData)\n\t}\n\tconst filterAnd = (filterValues: string[]) => {\n\t\tconst filteredData = data.filter((departure) => {\n\t\t\tlet decider = true\n\t\t\tif (departure.hasOwnProperty(\"direction\") && departure.direction) {\n\t\t\t\tfor (let i = 0; i < filterValues.length; i++) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tdeparture.line.name\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.includes(filterValues[i].toLowerCase()) ||\n\t\t\t\t\t\tdeparture.direction\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.includes(filterValues[i].toLowerCase())\n\t\t\t\t\t) {\n\t\t\t\t\t\tcontinue\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdecider = false\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn decider\n\t\t})\n\t\tsetViewData(filteredData)\n\t}\n\tconst noFilters = () => {\n\t\tsetViewData(data)\n\t}\n\tconst filterStops = (filterValue: string) => {\n\t\tconst remainingStops = stops.filter(\n\t\t\t(currStop) =>\n\t\t\t\tcurrStop.id !== stop.id &&\n\t\t\t\tcurrStop.name.toLowerCase().includes(filterValue.toLowerCase())\n\t\t)\n\t\tconst newSelection = [stop, ...remainingStops]\n\t\tsetSelection(newSelection)\n\t}\n\tconst doFilter = (event: { key: string; target: { value: string } }) => {\n\t\t// if (event.key === \"Enter\") {\n\t\tconst filterValue = event.target.value\n\t\tfilterStops(filterValue)\n\t\t// }\n\t}\n\tconst setCurrStop = (currStop: Stop) => {\n\t\tsetStop(currStop)\n\t}\n\tconst getData = async (id: string) => {\n\t\tconst currentStopArray = stops.filter((stop) => stop.id === id)\n\t\tconst [currentStop] = currentStopArray\n\t\tconst { type = \"BBG\" } = currentStop\n\t\tconst duration = getDuration(type)\n\t\tlet lang = \"de\"\n\t\tconst browserLang = navigator.language\n\t\tif (browserLang.startsWith(\"de\")) {\n\t\t\tlang = \"de\"\n\t\t} else {\n\t\t\tlang = \"en\"\n\t\t}\n\t\tconst url = `https://sklinkusch-vbbmicro.vercel.app/?station=${id}&duration=${duration}&language=${lang}`\n\t\tconst response = await axios.get(url)\n\t\tconst { data: resData, status } = await response\n\t\tif (status === 500 || status !== 200) {\n\t\t\tsetError(`HTTP status code: ${status}`)\n\t\t\tsetData([])\n\t\t} else {\n\t\t\tconst myDate = new Date().toLocaleString(\"de-DE\", {\n\t\t\t\tyear: \"numeric\",\n\t\t\t\tmonth: \"2-digit\",\n\t\t\t\tday: \"2-digit\",\n\t\t\t\thour: \"2-digit\",\n\t\t\t\tminute: \"2-digit\",\n\t\t\t\ttimeZone: \"Europe/Berlin\",\n\t\t\t})\n\t\t\tsetDate(myDate)\n\t\t\tsetData(resData)\n\t\t\tsetViewData(resData)\n\t\t\tsetError(null)\n\t\t}\n\t}\n\tconst handleChange = (currentStop: Stop) => {\n\t\tsetCurrStop(currentStop)\n\t\tconst { id: myStopId } = currentStop\n\t\tgetData(myStopId)\n\t\tconst inputCurrent = inputField.current as HTMLInputElement\n\t\tinputCurrent.value = \"\"\n\t\tconst filterFieldCurrent = filterField.current as HTMLInputElement\n\t\tfilterFieldCurrent.value = \"\"\n\t\tconst filterSelectorCurrent = filterSelector.current as HTMLSelectElement\n\t\tfilterSelectorCurrent.value = \"OR\"\n\t}\n\tconst handleSubmit = () => {\n\t\tgetData(stop.id)\n\t\tconst inputCurrent = inputField.current as HTMLInputElement\n\t\tinputCurrent.value = \"\"\n\t\tconst filterFieldCurrent = filterField.current as HTMLInputElement\n\t\tfilterFieldCurrent.value = \"\"\n\t\tconst filterSelectorCurrent = filterSelector.current as HTMLSelectElement\n\t\tfilterSelectorCurrent.value = \"OR\"\n\t}\n\t// useEffect(() => {\n\t//   getData(stop);\n\t// }, []);\n\treturn (\n\t\t<div className=\"timetable\" sx={{ minHeight: \"75vh\" }}>\n\t\t\t{inputField && <Input filterStops={doFilter} inputField={inputField} />}\n\t\t\t<Select\n\t\t\t\thandleChange={handleChange}\n\t\t\t\tselection={selection}\n\t\t\t\tstop={stop}\n\t\t\t\tmode=\"dep\"\n\t\t\t/>\n\t\t\t<Button handleSubmit={handleSubmit} />\n\t\t\t<Filter\n\t\t\t\tfilterField={filterField}\n\t\t\t\tfilterSelector={filterSelector}\n\t\t\t\tfilterData={filterData}\n\t\t\t\tmode=\"dep\"\n\t\t\t/>\n\t\t\t<StopBody\n\t\t\t\tstop={stop}\n\t\t\t\tdata={viewData}\n\t\t\t\terror={error}\n\t\t\t\tdate={date}\n\t\t\t\tmode=\"dep\"\n\t\t\t/>\n\t\t</div>\n\t)\n}\n","import React from \"react\"\n// import { BrowserRouter as Router, Routes, Route } from \"react-router-dom\"\nimport LegendDep from \"../components/LegendDep/LegendDep\"\nimport Timetable from \"../components/Timetable/Timetable\"\n// const LegendDep = lazy(() => import(\"../components/LegendDep\"))\n// const Timetable = lazy(() => import(\"../components/Timetable\"))\n\nfunction VBBDepartures() {\n  // let pathProps\n  // switch(process.env.NODE_ENV) {\n  //   case \"development\":\n  //     pathProps = { basename: process.env.PUBLIC_URL }\n  //     //  pathProps = {}\n  //     break\n  //   case \"production\":\n  //     pathProps = { basename: process.env.PUBLIC_URL }\n  //     // pathProps = {}\n  //     break\n  //   default:\n  //     pathProps = { basename: process.env.PUBLIC_URL }\n  //     // pathProps = {}\n  // }\n  return (\n    <div>\n      <LegendDep />\n      {/* <Router { ...pathProps }>\n        <Routes>\n          <Route path=\"/:stopId\" element={<Timetable />} />\n          <Route path=\"\" element={< Timetable />} />\n          <Route path=\"*\" element={< Timetable />} />\n        </Routes>\n      </Router> */}\n      <Timetable />\n    </div>\n  )\n}\n\nexport default VBBDepartures\n"],"names":["Button","handleSubmit","Fragment","onClick","sx","padding","backgroundColor","opacity","className","Filter","props","filterField","filterSelector","filterData","mode","type","placeholder","getLocale","ref","onChange","event","width","maxWidth","mx","value","Input","filterStops","inputField","Legendrow","left","right","gridColumn","textAlign","Select","handleChange","selection","stop","navigate","useNavigate","id","target","filter","length","map","index","name","LegendDep","display","gridTemplateColumns","border","margin","borderRadius","Timetable","useDebugState","stops","setSelection","setStop","data","setData","date","setDate","viewData","setViewData","error","setError","params","useParams","useEffect","hasOwnProperty","selectedStop","getData","remainingStops","stopSelection","initialStopArray","initialStop","initialId","useRef","filterOr","filterValues","filteredData","departure","decider","direction","i","line","toLowerCase","includes","filterAnd","noFilters","currentStopArray","currentStop","duration","getDuration","lang","browserLang","navigator","language","startsWith","url","axios","response","resData","status","myDate","Date","toLocaleString","year","month","day","hour","minute","timeZone","minHeight","filterValue","currStop","newSelection","myStopId","current","split","filterMode","StopBody"],"sourceRoot":""}