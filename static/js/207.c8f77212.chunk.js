"use strict";(self.webpackChunkvbb=self.webpackChunkvbb||[]).push([[207],{9207:function(e,n,t){t.r(n),t.d(n,{getDelay:function(){return b},getPlanTime:function(){return g},getTime:function(){return v}});var r=t(2791),a=t(4373),i=t(1760),l=t(9922),c=(0,r.lazy)((function(){return t.e(272).then(t.bind(t,5272))})),d=(0,r.lazy)((function(){return t.e(48).then(t.bind(t,1048))})),o=(0,r.lazy)((function(){return Promise.resolve().then(t.bind(t,6049))})),u=(0,r.lazy)((function(){return t.e(302).then(t.bind(t,6302))})),s=(0,r.lazy)((function(){return t.e(734).then(t.bind(t,734))})),p=(0,r.lazy)((function(){return t.e(619).then(t.bind(t,619))})),m=(0,r.lazy)((function(){return t.e(776).then(t.bind(t,7776))})),h=(0,r.lazy)((function(){return t.e(558).then(t.bind(t,4558))})),f=(0,r.lazy)((function(){return t.e(525).then(t.bind(t,1525))})),b=function(e,n){if(null!=e){var t=Math.abs(e/60);return Math.round(t)}return n?"X":"?"},g=function(e,n){var t=Number(e.substring(0,2)),r=Number(e.substring(3,5));(r-=n)<0&&(r+=60,t-=1),r>59&&(r-=60,t+=1),t<0&&(t+=24),t>23&&(t-=24);var a=t<10?"0".concat(t):"".concat(t),i=r<10?"0".concat(r):"".concat(r);return"".concat(a,":").concat(i)},v=function(e){return null!=e?e.substring(11,16):""};n.default=function(e){var n,t,y=function(e){var n=4*Math.atan(1),t=e.currentTripPosition,r=e.stop;if(t){var a=t.latitude,i=t.longitude,l=r.location,c=n*a/180,d=n*l.latitude/180,o=n*(i-l.longitude)/180,u=Math.sin(c)*Math.sin(d)+Math.cos(c)*Math.cos(d)*Math.cos(o);return 180*Math.acos(u)/n*60*1.1515}return null}(e.dep);"number"===typeof(n=e.dep.cancelled?b(e.dep.delay,e.dep.cancelled):b(e.dep.delay,!1))?t="".concat(n<0?"\u2013":n>0?"+":"\xb1").concat(n):t=n;var Z,k=v(e.dep.when);null!=e.dep.when&&null!=e.dep.delay?Z=g(k,Number(n)):null!=e.dep.when&&"?"===n?(Z=k,k=""):Z=v(e.dep.formerScheduledWhen)||v(e.dep.scheduledWhen)||v(e.dep.plannedWhen);var x=e.dep,z=x.line,M=x.direction,w=x.remarks,N=x.platform,C=x.plannedPlatform,P=x.prognosedPlatform;return(0,l.BX)(r.Fragment,{children:[(0,l.BX)("div",{className:"row",sx:{display:"grid",gridTemplateColumns:["repeat(24,1fr)","repeat(24,1fr)","repeat(26,1fr)"]},children:[(0,l.tZ)(c,{time:Z,class:"plantime"}),(0,l.tZ)(c,{time:k,class:"realtime"}),(0,l.tZ)("div",{className:"delay",sx:{textAlign:["center","center","right"],gridColumn:["17 / span 8","5 / span 2"]},children:t}),(0,l.tZ)(d,{line:z}),(0,l.tZ)(o,{line:z}),(0,l.tZ)("div",{className:"direction",sx:{textAlign:"left",gridColumn:["8 / span 13","11 / span 8"]},children:M}),(0,l.tZ)("div",{className:"platform",sx:{textAlign:"center",gridColumn:["22 / span 3","19 / span 2"]},children:N||C||P}),(0,l.tZ)(u,{remarks:w}),(0,l.tZ)(s,{remarks:w}),(0,l.tZ)(p,{remarks:w}),(0,l.tZ)(m,{remarks:w}),(0,l.tZ)(i.Z,{operator:z.operator})]},e.dep.tripId),(0,l.BX)("div",{className:"row row-add",sx:{display:"grid",gridTemplateColumns:"repeat(24, 1fr)",borderBottom:["1px solid #ccc","1px solid #ccc","none"]},children:[(0,l.tZ)(a.r,{distance:y}),(0,l.tZ)(h,{remarks:w}),(0,l.tZ)(f,{remarks:w})]},"add:".concat(e.dep.tripId))]})}}}]);
//# sourceMappingURL=207.c8f77212.chunk.js.map