(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{105:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return w});var a=n(77),r=n.n(a),c=n(78),u=n(33),i=n(18),o=n(3),l=n(1),s=n(79),f=n.n(s),b=n(76),O=n(103),d=Object(l.lazy)(function(){return n.e(7).then(n.bind(null,89))}),j=Object(l.lazy)(function(){return n.e(8).then(n.bind(null,90))}),v=Object(l.lazy)(function(){return n.e(5).then(n.bind(null,91))}),p=Object(l.lazy)(function(){return n.e(6).then(n.bind(null,92))}),h=Object(l.lazy)(function(){return n.e(11).then(n.bind(null,93))});function w(e){var t=Object(l.useState)(O.a),n=Object(i.a)(t,1)[0],a=Object(l.useState)(O.a),s=Object(i.a)(a,2),w=s[0],m=s[1],C=Object(l.useState)({}),L=Object(i.a)(C,2),S=L[0],g=L[1],k=Object(l.useState)([]),y=Object(i.a)(k,2),R=y[0],z=y[1],x=Object(l.useState)([]),B=Object(i.a)(x,2),F=B[0],H=B[1],J=Object(l.useState)(null),T=Object(i.a)(J,2),D=T[0],E=T[1];Object(l.useEffect)(function(){var e=O.a.filter(function(e){return"U Stadtmitte"===e.name}),t=Object(i.a)(e,1)[0],a=t.id;g(t),I(a);var r=n.filter(function(e){return e.name!==t.name}),c=[t].concat(Object(u.a)(r));m(c)},[]);var G=Object(l.useRef)(null),N=Object(l.useRef)(null),P=Object(l.useRef)(null),U=function(e){var t=R.filter(function(t){for(var n=!1,a=0;a<e.length;a++)if(t.line.name.toLowerCase().includes(e[a].toLowerCase())||t.direction.toLowerCase().includes(e[a].toLowerCase())){n=!0;break}return n});H(t)},q=function(e){var t=R.filter(function(t){for(var n=!0,a=0;a<e.length;a++)if(!t.line.name.toLowerCase().includes(e[a].toLowerCase())&&!t.direction.toLowerCase().includes(e[a].toLowerCase())){n=!1;break}return n});H(t)},A=function(){H(R)},I=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,c,u,o,l,s,O,d,j,v,p;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.filter(function(e){return e.id===t}),c=Object(i.a)(a,1),u=c[0],o=u.type,l=void 0===o?"BBG":o,s=Object(b.a)(l),O="https://sklinkusch-vbbmicro.vercel.app/?station=".concat(t,"&duration=").concat(s),e.next=7,f.a.get(O);case 7:return d=e.sent,e.next=10,d;case 10:j=e.sent,v=j.data,500===(p=j.status)||200!==p?(E("HTTP status code: ".concat(p)),z([])):(z(v),H(v),E(null));case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(o.a)("div",{className:"timetable",sx:{minHeight:"75vh"}},Object(o.a)(d,{filterStops:function(e){!function(e){var t=n.filter(function(t){return t.id!==S.id&&t.name.toLowerCase().includes(e.toLowerCase())}),a=[S].concat(Object(u.a)(t));m(a)}(e.target.value)},inputField:G}),Object(o.a)(j,{handleChange:function(e){g(e);var t=e.id;I(t),G.current.value="",N.current.value="",P.current.value="OR"},selection:w,stop:S}),Object(o.a)(v,{handleSubmit:function(){I(S.id),G.current.value="",N.current.value="",P.current.value="OR"}}),Object(o.a)(p,{filterField:N,filterSelector:P,filterData:function(e){var t=N.current.value.split(" "),n=P.current.value;t.length>0?"OR"===n?U(t):q(t):A()}}),Object(o.a)(h,{stop:S,data:F,error:D}))}}}]);
//# sourceMappingURL=27.15c8d312.chunk.js.map