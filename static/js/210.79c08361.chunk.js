"use strict";(self.webpackChunkvbb=self.webpackChunkvbb||[]).push([[210],{8210:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(4165),u=n(5861),a=n(2982),i=n(885),o=n(2791),c=n(4569),s=n.n(c),l=n(6763),f=n(4869),d=n(184),v=(0,o.lazy)((function(){return n.e(86).then(n.bind(n,8086))})),h=(0,o.lazy)((function(){return n.e(396).then(n.bind(n,5396))})),b=(0,o.lazy)((function(){return n.e(732).then(n.bind(n,4453))})),p=(0,o.lazy)((function(){return n.e(453).then(n.bind(n,1597))})),Z=(0,o.lazy)((function(){return n.e(729).then(n.bind(n,8732))}));function m(e){var t=(0,o.useState)(f.Z),n=(0,i.Z)(t,1)[0],c=(0,o.useState)(f.Z),m=(0,i.Z)(c,2),w=m[0],C=m[1],L=(0,o.useState)({}),S=(0,i.Z)(L,2),k=S[0],x=S[1],g=(0,o.useState)([]),y=(0,i.Z)(g,2),j=y[0],R=y[1],z=(0,o.useState)([]),O=(0,i.Z)(z,2),B=O[0],F=O[1],T=(0,o.useState)(null),D=(0,i.Z)(T,2),E=D[0],G=D[1];(0,o.useEffect)((function(){var e=f.Z.filter((function(e){return"U Stadtmitte"===e.name})),t=(0,i.Z)(e,1)[0],r=t.id;x(t),I(r);var u=n.filter((function(e){return e.name!==t.name})),o=[t].concat((0,a.Z)(u));C(o)}),[]);var H=(0,o.useRef)(null),N=(0,o.useRef)(null),P=(0,o.useRef)(null),U=function(e){var t=j.filter((function(t){for(var n=!1,r=0;r<e.length;r++)if(t.line.name.toLowerCase().includes(e[r].toLowerCase())||t.direction.toLowerCase().includes(e[r].toLowerCase())){n=!0;break}return n}));F(t)},q=function(e){var t=j.filter((function(t){for(var n=!0,r=0;r<e.length;r++)if(!t.line.name.toLowerCase().includes(e[r].toLowerCase())&&!t.direction.toLowerCase().includes(e[r].toLowerCase())){n=!1;break}return n}));F(t)},A=function(){F(j)},I=function(){var e=(0,u.Z)((0,r.Z)().mark((function e(t){var u,a,o,c,f,d,v,h,b,p,Z;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=n.filter((function(e){return e.id===t})),a=(0,i.Z)(u,1),o=a[0],c=o.type,f=void 0===c?"BBG":c,d=(0,l.g)(f),v="https://sklinkusch-vbbmicro.vercel.app/?station=".concat(t,"&duration=").concat(d,"&mode=arr"),e.next=7,s().get(v);case 7:return h=e.sent,e.next=10,h;case 10:b=e.sent,p=b.data,500===(Z=b.status)||200!==Z?(G("HTTP status code: ".concat(Z)),R([])):(R(p),F(p),G(null));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsxs)("div",{className:"timetable",children:[(0,d.jsx)(v,{filterStops:function(e){!function(e){var t=n.filter((function(t){return t.id!==k.id&&t.name.toLowerCase().includes(e.toLowerCase())})),r=[k].concat((0,a.Z)(t));C(r)}(e.target.value)},inputField:H}),(0,d.jsx)(h,{handleChange:function(e){x(e);var t=e.id;I(t),H.current.value="",N.current.value="",P.current.value="OR"},selection:w,stop:k}),(0,d.jsx)(b,{handleSubmit:function(){I(k.id),H.current.value="",N.current.value="",P.current.value="OR"}}),(0,d.jsx)(p,{filterField:N,filterSelector:P,filterData:function(e){var t=N.current.value.split(" "),n=P.current.value;t.length>0?"OR"===n?U(t):q(t):A()},mode:"arr"}),(0,d.jsx)(Z,{stop:k,data:B,error:E,mode:"arr"})]})}}}]);
//# sourceMappingURL=210.79c08361.chunk.js.map