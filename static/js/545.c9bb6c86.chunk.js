"use strict";(self.webpackChunkvbb=self.webpackChunkvbb||[]).push([[545],{8545:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var r=n(4165),u=n(5861),a=n(2982),i=n(885),c=n(2791),o=n(4569),l=n.n(o),s=n(6763),f=n(4869),d=n(9922),v=(0,c.lazy)((function(){return n.e(86).then(n.bind(n,8086))})),h=(0,c.lazy)((function(){return n.e(396).then(n.bind(n,5396))})),Z=(0,c.lazy)((function(){return n.e(732).then(n.bind(n,4453))})),b=(0,c.lazy)((function(){return n.e(453).then(n.bind(n,1597))})),p=(0,c.lazy)((function(){return n.e(729).then(n.bind(n,8732))}));function w(e){var t=(0,c.useState)(f.Z),n=(0,i.Z)(t,1)[0],o=(0,c.useState)(f.Z),w=(0,i.Z)(o,2),m=w[0],C=w[1],L=(0,c.useState)({}),S=(0,i.Z)(L,2),k=S[0],g=S[1],y=(0,c.useState)([]),R=(0,i.Z)(y,2),z=R[0],x=R[1],B=(0,c.useState)([]),O=(0,i.Z)(B,2),F=O[0],H=O[1],T=(0,c.useState)(null),D=(0,i.Z)(T,2),E=D[0],G=D[1];(0,c.useEffect)((function(){var e=f.Z.filter((function(e){return"U Stadtmitte"===e.name})),t=(0,i.Z)(e,1)[0],r=t.id;g(t),A(r);var u=n.filter((function(e){return e.name!==t.name})),c=[t].concat((0,a.Z)(u));C(c)}),[]);var N=(0,c.useRef)(null),P=(0,c.useRef)(null),U=(0,c.useRef)(null),X=function(e){var t=z.filter((function(t){for(var n=!1,r=0;r<e.length;r++)if(t.line.name.toLowerCase().includes(e[r].toLowerCase())||t.direction.toLowerCase().includes(e[r].toLowerCase())){n=!0;break}return n}));H(t)},j=function(e){var t=z.filter((function(t){for(var n=!0,r=0;r<e.length;r++)if(!t.line.name.toLowerCase().includes(e[r].toLowerCase())&&!t.direction.toLowerCase().includes(e[r].toLowerCase())){n=!1;break}return n}));H(t)},q=function(){H(z)},A=function(){var e=(0,u.Z)((0,r.Z)().mark((function e(t){var u,a,c,o,f,d,v,h,Z,b,p;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=n.filter((function(e){return e.id===t})),a=(0,i.Z)(u,1),c=a[0],o=c.type,f=void 0===o?"BBG":o,d=(0,s.g)(f),v="https://sklinkusch-vbbmicro.vercel.app/?station=".concat(t,"&duration=").concat(d),e.next=7,l().get(v);case 7:return h=e.sent,e.next=10,h;case 10:Z=e.sent,b=Z.data,500===(p=Z.status)||200!==p?(G("HTTP status code: ".concat(p)),x([])):(x(b),H(b),G(null));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,d.BX)("div",{className:"timetable",sx:{minHeight:"75vh"},children:[(0,d.tZ)(v,{filterStops:function(e){!function(e){var t=n.filter((function(t){return t.id!==k.id&&t.name.toLowerCase().includes(e.toLowerCase())})),r=[k].concat((0,a.Z)(t));C(r)}(e.target.value)},inputField:N}),(0,d.tZ)(h,{handleChange:function(e){g(e);var t=e.id;A(t),N.current.value="",P.current.value="",U.current.value="OR"},selection:m,stop:k}),(0,d.tZ)(Z,{handleSubmit:function(){A(k.id),N.current.value="",P.current.value="",U.current.value="OR"}}),(0,d.tZ)(b,{filterField:P,filterSelector:U,filterData:function(e){var t=P.current.value.split(" "),n=U.current.value;t.length>0?"OR"===n?X(t):j(t):q()}}),(0,d.tZ)(p,{stop:k,data:F,error:E})]})}}}]);
//# sourceMappingURL=545.c9bb6c86.chunk.js.map