{"version":3,"file":"static/js/305.216deefd.chunk.js","mappings":"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","sources":["components/Trip/Trip.tsx"],"sourcesContent":["/** @jsxImportSource theme-ui */\n\ntype Loc = {\n  type: string\n  id?: string\n  latitude: string \n  longitude: string\n}\n\ntype Prod = {\n  suburban: boolean\n  subway: boolean\n  tram: boolean\n  bus: boolean\n  ferry: boolean\n  express: boolean\n  regional: boolean\n}\n\ntype OrigDest = {\n  type: string\n  id: string\n  name: string\n  location: Loc\n  products: Prod\n  stationDHID: string\n}\n\ntype Operator = {\n  type: string\n  id: string\n  name: string\n}\n\ntype Color = {\n  fg: string\n  bg: string\n}\n\ntype Line = {\n  type: string\n  id: string\n  fahrtNr: string\n  name: string\n  public: boolean\n  adminCode: string\n  productName: string\n  mode: string\n  product: string\n  operator: Operator\n  color: Color\n}\n\ntype Stopover = {\n  stop: OrigDest\n  cancelled?: boolean\n  arrival: string | null\n  plannedArrival: string | null\n  arrivalDelay: number | null\n  arrivalPlatform: string | null\n  arrivalPrognosisType: string | null\n  plannedArrivalPlatform: string | null\n  departure: string | null\n  plannedDeparture: string | null\n  departureDelay: number | null\n  departurePlatform: string | null\n  departurePrognosisType: string | null\n  plannedDeparturePlatform: string | null\n}\n\ntype Remarks = {\n\tcode: string | undefined\n\tsummary: string | null | undefined\n\ttext: string | undefined\n\ttype: string | undefined\n\tvalidFrom: string | undefined\n\tvalidUntil: string | undefined\n}[]\n\ntype Props = {\n  trip: {\n    origin: OrigDest\n    destination: OrigDest\n    departure: string\n    plannedDeparture: string\n    departureDelay: number | null\n    arrival: string\n    plannedArrival: string\n    arrivalDelay: number | null\n    line: Line\n    direction: string\n    currentLocation: Loc\n    arrivalPlatform: string\n    plannedArrivalPlatform: string\n    arrivalPrognosisType: string\n    departurePlatform: string\n    plannedDeparturePlatform: string\n    departurePrognosisType: string\n    stopovers: Stopover[]\n    remarks: Remarks\n    id: string\n  }\n  stopId: string\n  mode: \"dep\" | \"arr\"\n}\n\nfunction Trip({ trip, stopId, mode }: Props) {\n  const stopOfInterest = trip.stopovers.find(stopover => stopover.stop.id === stopId)\n  const indexOfInterest = stopOfInterest ? trip.stopovers.indexOf(stopOfInterest) : -1\n  const getTime = (timestamp: string) => {\n    return timestamp.split(\"T\")[1].substring(0,5)\n  }\n  const getDelay = (delay: number) => {\n    const roundedDelay = Math.round(delay / 60)\n    if (roundedDelay === 0) {\n      return \"±0\"\n    }\n    if (delay < 0) {\n      return `-${Math.abs(roundedDelay)}`\n    }\n    return `+${Math.abs(roundedDelay)}`\n  }\n  const getColor = (delay: number) => {\n    if (delay === 0) {\n      return \"blue\"\n    }\n    if (delay < 0) {\n      return \"green\"\n    }\n    return \"red\"\n  }\n  return (\n    <div sx={{ gridColumn: \"1 / span 24\", fontSize: \"0.8rem\", textAlign: \"left\", hyphens: \"auto\" }} lang=\"de\">\n      {trip.stopovers && trip.stopovers.length > 0 && trip.stopovers.map((stop, idx) => {\n        const isCancelled = stop.cancelled ? { textDecorationLine: \"line-through\" } : {}\n        const isCurrentStop = idx === indexOfInterest ? { fontWeight: 700 } : {}\n        return (\n          <span key={`${idx}_${stop.stop.name}`}>\n            <span sx={{ ...isCancelled, ...isCurrentStop }}>\n              {stop.stop.name}\n            </span>\n            {idx <= indexOfInterest && (stop.plannedDeparture ? <span sx={{ mx: \"0.3em\", ...isCancelled, ...isCurrentStop }}>{getTime(stop.plannedDeparture)}</span> : stop.plannedArrival && (<span sx={{ mx: \"0.3em\", ...isCancelled, ...isCurrentStop }}>{getTime(stop.plannedArrival)}</span>))}\n            {idx > indexOfInterest && (stop.plannedArrival ? <span sx={{ mx: \"0.3em\", ...isCancelled }}>{getTime(stop.plannedArrival)}</span> : stop.plannedDeparture && (<span sx={{ mx: \"0.3em\", ...isCancelled }}>{getTime(stop.plannedDeparture)}</span>))}\n            {idx <= indexOfInterest && (typeof stop.departureDelay === \"number\" && !stop.cancelled ? (<span sx={{ mr: \"0.2em\", ...isCurrentStop, color: getColor(stop.departureDelay) }}>{getDelay(stop.departureDelay)}</span>) : typeof stop.arrivalDelay === 'number' && !stop.cancelled && (<span sx={{ mr: \"0.2em\", ...isCurrentStop, color: getColor(stop.arrivalDelay) }}>{getDelay(stop.arrivalDelay)}</span>))}\n            {idx > indexOfInterest && (typeof stop.arrivalDelay === 'number' && !stop.cancelled ? (<span sx={{ mr: \"0.2em\", color: getColor(stop.arrivalDelay) }}>{getDelay(stop.arrivalDelay)}</span>) : typeof stop.departureDelay === 'number' && !stop.cancelled && (<span sx={{ mr: \"0.2em\", color: getColor(stop.departureDelay) }}>{getDelay(stop.departureDelay)}</span>))}\n            {idx !== trip.stopovers.length - 1 && <span sx={{ mr: \"0.3em\" }}>–</span>}\n          </span>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default Trip"],"names":["_ref","trip","stopId","stopOfInterest","mode","stopovers","find","stopover","stop","id","indexOfInterest","indexOf","getTime","timestamp","split","substring","getDelay","delay","roundedDelay","Math","round","concat","abs","getColor","_jsx","sx","gridColumn","fontSize","textAlign","hyphens","lang","children","length","map","idx","isCancelled","cancelled","textDecorationLine","isCurrentStop","fontWeight","_jsxs","_objectSpread","name","plannedDeparture","mx","plannedArrival","departureDelay","arrivalDelay","mr","color"],"sourceRoot":""}