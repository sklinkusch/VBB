{"version":3,"file":"static/js/964.daa8aced.chunk.js","mappings":"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","sources":["components/Legendrow/Legendrow.tsx","components/LegendDep/LegendDep.tsx","components/Timetable/Timetable.tsx","pages/VBBDepartures.tsx"],"sourcesContent":["/** @jsxImportSource theme-ui */\nimport React from \"react\";\n\ntype Props = {\n  left: any,\n  right: string\n}\n\nexport default function Legendrow({left, right}: Props) {\n  return (\n    <React.Fragment>\n      <div className=\"legendleft\" sx={{ gridColumn: \"1 / span 4\" }}>{left}</div>\n      <div className=\"legendright\" sx={{ textAlign: \"left\", gridColumn: \"5 / span 20\" }}>{right}</div>\n    </React.Fragment>\n  );\n}\n","/** @jsxImportSource theme-ui */\nimport Legendrow from \"../Legendrow/Legendrow\";\nimport getLocale from \"../Locales/getLocale\";\n\nexport default function LegendDep() {\n  return (\n    <div className=\"legend\" sx={{ display: [\"none\", \"none\", \"grid\"], gridTemplateColumns: \"repeat(24,1fr)\", border: \"2px solid black\", width: \"70%\", margin: \"0 auto 40px auto\", borderRadius: \"10px\" }}>\n      <h3 sx={{ gridColumn: \"1 / span 24\" }}>{getLocale(\"legend\")}</h3>\n      <Legendrow\n        left={getLocale(\"scheduled\")}\n        right={getLocale(\"scheduledDesc\")}\n      />\n      <Legendrow\n        left={getLocale(\"real\")}\n        right={getLocale(\"realDesc\")}\n      />\n      <Legendrow left={getLocale(\"delay\")} right={getLocale(\"delayDesc\")} />\n      <Legendrow left={getLocale(\"line\")} right={getLocale(\"lineDesc\")} />\n      <Legendrow left={getLocale(\"direction\")} right={getLocale(\"directionDesc\")} />\n      <Legendrow\n        left={<span className=\"fas fa-wheelchair\" />}\n        right={getLocale(\"barrierfree\")}\n      />\n      <Legendrow\n        left={<span className=\"fas fa-bicycle\" />}\n        right={getLocale(\"bike\")}\n      />\n      <Legendrow\n        left={<span className=\"fas fa-exclamation-triangle\" />}\n        right={getLocale(\"attention\")}\n      />\n      <Legendrow\n        left={<span className=\"fas fa-times\" />}\n        right={getLocale(\"cancelled\")}\n      />\n    </div>\n  );\n}\n","/** @jsxImportSource theme-ui */\nimport { useRef, useEffect } from \"react\"\nimport { useParams, useSearchParams, useNavigate } from \"react-router-dom\"\nimport { useDebugState } from \"use-named-state\"\n// import axios from \"axios\"\nimport { getDuration } from \"../helpers/helpers\"\nimport Input from \"../Input/Input\"\nimport Select from \"../Select/Select\"\nimport Button from \"../Button/Button\"\nimport Filter from \"../Filter/Filter\"\nimport ProductsFilter from \"../ProductsFilter/ProductsFilter\"\nimport StopBody from \"../StopBody/StopBody\"\nimport TimeSelect from \"../TimeSelect/TimeSelect\"\n/* eslint-disable react-hooks/exhaustive-deps */\n\ntype Location = {\n\ttype: \"location\"\n\tlatitude: number\n\tlongitude: number\n}\n\ntype Remarks = {\n\tcode: string | undefined\n\tsummary: string | null | undefined\n\ttext: string\n\ttype: string\n\tvalidFrom: string | undefined\n\tvalidUntil: string | undefined\n}[]\n\ntype Operator = {\n  type: \"operator\",\n  id: string,\n  name: string\n}\n\ntype LINE_A = {\n\tcolor: {\n\t\tfg: string\n\t\tbg: string\n\t}\n\texpress: boolean\n\tfahrtNr: string\n\tid: string\n\tmetro: boolean\n\tmode: string\n\tname: string\n\tnight: boolean\n\tnr: number\n\toperator: Operator\n\tproduct: \"regional\" | \"suburban\" | \"subway\"\n\ttype: string\n}\n\ntype LINE_B = {\n\texpress: boolean\n\tfahrtNr: string\n\tid: string\n\tmetro: boolean\n\tmode: string\n\tname: string\n\tnight: boolean\n\tnr: number\n\toperator: Operator\n\tproduct: \"express\" | \"tram\" | \"bus\" | \"ferry\"\n\ttype: string\n}\n\ntype Dataset = {\n\tcancelled: boolean | undefined\n\tcurrentTripPosition: Location\n\tdelay: number | null\n\tdirection: string | null\n\tformerScheduledWhen?: string\n\tline: LINE_A | LINE_B\n\tplannedPlatform?: string\n\tplannedWhen?: string\n\tplatform?: number | string\n\tprognosedPlatform?: string\n\tprognosisType: string | null | undefined\n\tprovenance: string | null\n\tremarks: Remarks\n\tscheduledWhen?: string\n\tstop: {\n\t\tid: string\n\t\tname: string\n\t\tlocation: Location\n\t}\n\ttripId: string\n\twhen?: string\n}\n\ntype Stop = {\n\tid: string\n\tname: string\n\ttype?: string\n}\n\ntype Options = {\n\texpress?: boolean\n\tregional?: boolean\n\tsuburban?: boolean\n\tsubway?: boolean\n\ttram?: boolean\n\tbus?: boolean\n\tferry?: boolean\n\tdirection: string | null\n\ttime?: string\n}\n\ntype Data = Dataset[]\n\nexport default function Timetable() {\n\tconst [selection, setSelection] = useDebugState<Stop[]>(\"selection\", [])\n\tconst [filterSelection, setFilterSelection] = useDebugState<(Stop)[]>(\"filterSelection\", [])\n\tconst [stop, setStop] = useDebugState<Stop>(\"stop\", {\n\t\tid: \"\",\n\t\tname: \"\",\n\t\ttype: \"\",\n\t})\n\tconst [filterStop, setFilterStop] = useDebugState<Stop>(\"filterStop\", { id: \"0\", name: \"⸺\", type: \"\" })\n\tconst [data, setData] = useDebugState<Data>(\"data\", [])\n\tconst [date, setDate] = useDebugState<string>(\"date\", \"\")\n\tconst [error, setError] = useDebugState<any>(\"error\", null)\n\tconst [express, setExpress] = useDebugState<boolean>(\"express\", true)\n\tconst [regional, setRegional] = useDebugState<boolean>(\"regional\", true)\n\tconst [suburban, setSuburban] = useDebugState<boolean>(\"suburban\", true)\n\tconst [subway, setSubway] = useDebugState<boolean>(\"subway\", true)\n\tconst [tram, setTram] = useDebugState<boolean>(\"tram\", true)\n\tconst [bus, setBus] = useDebugState<boolean>(\"bus\", true)\n\tconst [ferry, setFerry] = useDebugState<boolean>(\"ferry\", true)\n\tconst [time, setTime] = useDebugState<string>(\"time\", new Date().toLocaleString('sv', { timeZone: 'Europe/Berlin', minute: '2-digit', hour: '2-digit', day: '2-digit', month: '2-digit', year: 'numeric' }).replace(\" \", \"T\"))\n\tconst params = useParams()\n\tconst [searchParams, setSearchParams] = useSearchParams()\n\tconst navigate = useNavigate()\n\tuseEffect(() => {\n\t\tasync function findInitialStop() {\n\t\t\tif (\n\t\t\t\tparams.hasOwnProperty(\"id\") &&\n\t\t\t\ttypeof params.id === \"string\" &&\n\t\t\t\tparams.id.length === 9\n\t\t\t) {\n\t\t\t\ttry {\n\t\t\t\t\t// const stationUrl =\n\t\t\t\t\t// `https://station-api-jade.vercel.app/?id=${params.id}`\n\t\t\t\t\tconst stationUrl = `https://vbb-rest.vercel.app/stops/${params.id}?language=de`\n\t\t\t\t\tconst response = await fetch(\n\t\t\t\t\t\tstationUrl\n\t\t\t\t\t)\n\t\t\t\t\tconst station = await response.json()\n\t\t\t\t\tconst { name } = await station\n\t\t\t\t\tnavigate(`/departures/${params.id}`)\n\t\t\t\t\tsetStop(station)\n\t\t\t\t\tconst filterId = searchParams.has('direction') && searchParams.get('direction') ? searchParams.get('direction')  : \"0\";\n\t\t\t\t\tif (typeof filterId === 'string' && filterId !== \"0\") {\n\t\t\t\t\t\tconst filterUrl = `https://vbb-rest.vercel.app/stops/${filterId}?language=de`\n\t\t\t\t\t\tconst filterResponse = await fetch(filterUrl)\n\t\t\t\t\t\tconst filterStation = await filterResponse.json()\n\t\t\t\t\t\tconst { name: filterName } = await filterStation\n\t\t\t\t\t\tsetFilterStop({ id: filterId, name: filterName, type: '' })\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetFilterStop({ id: '0', name: '⸺', type: '' });\n\t\t\t\t\t}\n\t\t\t\t\tgetData(params.id, name, { direction: filterId })\n\t\t\t\t\tdocument.title = navigator.language.startsWith(\"de\")\n\t\t\t\t\t? `Abfahrten ab ${name}`\n\t\t\t\t\t: `Departures from ${name}`\n\t\t\t\t\tconst stopSelection = [station]\n\t\t\t\t\tsetSelection(stopSelection)\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.debug(error)\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tparams.hasOwnProperty(\"id\") &&\n\t\t\t\ttypeof params.id === 'string' &&\n\t\t\t\tparams.id.length === 12\n\t\t\t) {\n\t\t\t\ttry {\n\t\t\t\t\tconst modifiedId = `${params.id.slice(0, 1)}${params.id.slice(-8)}`\n\t\t\t\t\t// const stationUrl =\n\t\t\t\t\t// `https://station-api-jade.vercel.app/?id=${modifiedId}`\n\t\t\t\t\tconst stationUrl = `https://vbb-rest.vercel.app/stops/${modifiedId}?language=de`\n\t\t\t\t\tconst response = await fetch(\n\t\t\t\t\t\tstationUrl\n\t\t\t\t\t)\n\t\t\t\t\tconst station = await response.json()\n\t\t\t\t\tconst { name } = await station\n\t\t\t\t\tnavigate(`/departures/${modifiedId}`)\n\t\t\t\t\tsetStop(station)\n\t\t\t\t\tgetData(modifiedId, name, { direction: \"0\" })\n\t\t\t\t\tdocument.title = navigator.language.startsWith(\"de\")\n\t\t\t\t\t\t? `Abfahrten ab ${name}`\n\t\t\t\t\t\t: `Departures from ${name}`\n\t\t\t\t\tconst stopSelection = [station]\n\t\t\t\t\tsetSelection(stopSelection)\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.debug(error)\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttry {\n\t\t\t\t\tconst initialId = \"900100011\"\n\t\t\t\t\t// const stationUrl = `https://station-api-jade.vercel.app/?id=${initialId}`\n\t\t\t\t\tconst stationUrl = `https://vbb-rest.vercel.app/stops/${initialId}?language=de`\n\t\t\t\t\tconst response = await fetch(\n\t\t\t\t\t\tstationUrl\n\t\t\t\t\t)\n\t\t\t\t\tconst station = await response.json()\n\t\t\t\t\tconst { name: initialName } = await station\n\t\t\t\t\tnavigate(`/departures/${initialId}`)\n\t\t\t\t\tsetStop(station)\n\t\t\t\t\tgetData(initialId, initialName, { direction: \"0\" })\n\t\t\t\t\tdocument.title = navigator.language.startsWith(\"de\")\n\t\t\t\t\t\t? `Abfahrten ab ${initialName}`\n\t\t\t\t\t\t: `Departures from ${initialName}`\n\t\t\t\t\tconst stopSelection = [station]\n\t\t\t\t\tsetSelection(stopSelection)\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.debug(error)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfindInitialStop()\n\t}, [])\n\tconst inputField = useRef<HTMLInputElement>(null)\n\tconst viaInputField = useRef<HTMLInputElement>(null)\n\tconst getStopSelection = async (event: {\n\t\tkey: string\n\t\ttarget: { value: string }\n\t}) => {\n\t\tconst searchValue = event.target.value\n\t\ttry {\n\t\t\tif (searchValue.length >= 3) {\n\t\t\t\t// const getStopsUrl = `https://station-api-jade.vercel.app/?station=${searchValue}`\n\t\t\t\tconst getStopsUrl = `https://vbb-rest.vercel.app/locations?query=${searchValue}&results=15&fuzzy=true&stops=true&addresses=false&poi=false&language=de&linesOfStops=true`\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\tgetStopsUrl\n\t\t\t\t)\n\t\t\t\tconst data = await response.json()\n\t\t\t\tconst newData = [stop, ...data]\n\t\t\t\tsetSelection(newData)\n\t\t\t} else {\n\t\t\t\tsetSelection([stop])\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.debug(error)\n\t\t}\n\t}\n\tconst getFilterStopSelection = async (event: {\n\t\tkey: string\n\t\ttarget: { value: string }\n\t}) => {\n\t\tconst searchValue = event.target.value\n\t\ttry {\n\t\t\tconst nullElement = { id: \"0\", name: \"⸺\", type: \"\" }\n\t\t\tif (searchValue.length >= 3) {\n\t\t\t\t// const getStopsUrl = `https://station-api-jade.vercel.app/?station=${searchValue}`\n\t\t\t\tconst getStopsUrl = `https://vbb-rest.vercel.app/locations?query=${searchValue}&results=15&fuzzy=true&stops=true&addresses=false&poi=false&language=de&linesOfStops=true`\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\tgetStopsUrl\n\t\t\t\t)\n\t\t\t\tconst fdata = await response.json()\n\t\t\t\tconst newData = filterStop.id !== \"0\"\n\t\t\t\t\t? [ nullElement, filterStop, ...fdata ]\n\t\t\t\t\t: [ nullElement, ...fdata ]\n\t\t\t\tsetFilterSelection(newData)\n\t\t\t} else if (filterStop.id !== \"0\") {\n\t\t\t\tconst newData = [ nullElement, filterStop ]\n\t\t\t\tsetFilterSelection(newData)\n\t\t\t} else {\n\t\t\t\tsetFilterSelection([nullElement])\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.debug(error)\n\t\t}\n\t}\n\tconst setCurrStop = (currStop: Stop) => {\n\t\tsetStop(currStop)\n\t}\n\tconst getType = (name: string) => {\n\t\tif (name.startsWith(\"Berlin\")) {\n\t\t\treturn \"BLN\"\n\t\t}\n\t\tif (name.includes(\"(Berlin)\")) {\n\t\t\treturn \"BLN\"\n\t\t}\n\t\tif (name.includes(\"Berlin Hauptbahnhof\")) {\n\t\t\treturn \"BLN\"\n\t\t}\n\t\treturn \"BBG\"\n\t}\n\tconst getData = async (id: string, name: string, options: Options) => {\n\t\ttry {\n\t\t\tconst type = getType(name)\n\t\t\tconst duration = getDuration(type)\n\t\t\tlet lang = \"de\"\n\t\t\tconst browserLang = navigator.language\n\t\t\tif (browserLang.startsWith(\"de\")) {\n\t\t\t\tlang = \"de\"\n\t\t\t} else {\n\t\t\t\tlang = \"en\"\n\t\t\t}\n\t\t\tconst direction = options.direction\n\t\t\t\t? options.direction !== \"0\"\n\t\t\t\t\t? parseInt(options.direction,10)\n\t\t\t\t\t: null\n\t\t\t\t: filterStop.id !== \"0\"\n\t\t\t\t\t\t? parseInt(filterStop.id, 10)\n\t\t\t\t\t\t: null\n\t\t\tconst directionSnippet = typeof direction === 'number'\n\t\t\t\t? `&direction=${direction}`\n\t\t\t\t: ''\n\t\t\tif ((id === stop.id || date === '') && !options.time) {\n\t\t\t\tconst myDate = new Date().toLocaleString(\"de-DE\", {\n\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\tmonth: \"2-digit\",\n\t\t\t\t\tday: \"2-digit\",\n\t\t\t\t\thour: \"2-digit\",\n\t\t\t\t\tminute: \"2-digit\",\n\t\t\t\t\ttimeZone: \"Europe/Berlin\",\n\t\t\t\t})\n\t\t\t\tconst myTime = new Date().toLocaleString('sv', {\n\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\tmonth: \"2-digit\",\n\t\t\t\t\tday: \"2-digit\",\n\t\t\t\t\thour: \"2-digit\",\n\t\t\t\t\tminute: \"2-digit\",\n\t\t\t\t\ttimeZone: \"Europe/Berlin\",\n\t\t\t\t}).replace(' ', 'T')\n\t\t\t\tsetDate(myDate)\n\t\t\t\tsetTime(myTime)\n\t\t\t}\n\t\t\t// const url =\n\t\t\t// `https://sklinkusch-vbbmicro.vercel.app/?station=${id}&duration=${duration}&language=${lang}`\n\t\t\tconst url = `https://vbb-rest.vercel.app/stops/${id}/departures?language=${lang}&duration=${duration}&express=${typeof options.express === 'boolean' ? options.express.toString() : express.toString()}&regional=${typeof options.regional === 'boolean' ? options.regional.toString() : regional.toString()}&suburban=${typeof options.suburban === 'boolean' ? options.suburban.toString() : suburban.toString()}&subway=${typeof options.subway === 'boolean' ? options.subway.toString() : subway.toString()}&tram=${typeof options.tram === 'boolean' ? options.tram.toString() : tram.toString()}&bus=${typeof options.bus === 'boolean' ? options.bus.toString() : bus.toString()}&ferry=${typeof options.ferry === 'boolean' ? options.ferry.toString() : ferry.toString()}${directionSnippet}&when=${typeof options.time === 'string' ? new Date(options.time).toISOString() : new Date(time).toISOString()}`\n\t\t\tconst response = await fetch(url)\n\t\t\tconst {status } = await response\n\t\t\tconst resData = await response.json()\n\t\t\tif (status === 500 || status !== 200) {\n\t\t\t\tsetError(`HTTP status code: ${status}`)\n\t\t\t\tsetData([])\n\t\t\t} else {\n\t\t\t\tconst { departures } = resData\n\t\t\t\tdocument.title =\n\t\t\t\tlang === \"de\" ? `Abfahrten ab ${name}` : `Departures from ${name}`\n\t\t\t\tsetData(departures)\n\t\t\t\t// setViewData(departures)\n\t\t\t\tsetError(null)\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.debug(error)\n\t\t}\n\t}\n\tconst handleChange = (currentStop: Stop) => {\n\t\tsetCurrStop(currentStop)\n\t\tconst { id: myStopId, name: currentStopName } = currentStop\n\t\tgetData(myStopId, currentStopName, { direction: \"0\" })\n\t\tconst inputCurrent = inputField.current as HTMLInputElement\n\t\tinputCurrent.value = \"\"\n\t}\n\tconst handleFilterChange = (currentStop: Stop) => {\n\t\tif (currentStop.id !== \"0\") {\n\t\t\tsetFilterStop(currentStop)\n\t\t\tsetSearchParams({ direction: currentStop.id })\n\t\t\tgetData(stop.id, stop.name, { direction: currentStop.id })\n\t\t} else {\n\t\t\tsetFilterStop({ id: \"0\", name: \"⸺\", type: \"\" })\n\t\t\tsetSearchParams({ direction: '0'})\n\t\t\tgetData(stop.id, stop.name, { direction: \"0\" })\n\t\t}\n\t\tconst viaInputCurrent = viaInputField.current as HTMLInputElement\n\t\tviaInputCurrent.value = \"\"\n\t}\n\tconst handleSubmit = () => {\n\t\tconst currentTime = new Date().toLocaleString('de-DE', {\n\t\t\tyear: 'numeric',\n\t\t\tmonth: '2-digit',\n\t\t\tday: '2-digit',\n\t\t\thour: '2-digit',\n\t\t\tminute: '2-digit',\n\t\t\ttimeZone: 'Europe/Berlin',\n\t\t});\n\t\tconst currentTimeISO = new Date().toLocaleString('sv', {\n\t\t\tyear: 'numeric',\n\t\t\tmonth: '2-digit',\n\t\t\tday: '2-digit',\n\t\t\thour: '2-digit',\n\t\t\tminute: '2-digit',\n\t\t\ttimeZone: 'Europe/Berlin',\n\t\t}).replace(' ', 'T');\n\t\tsetDate(currentTime);\n\t\tsetTime(currentTimeISO);\n\t\tgetData(stop.id, stop.name, { direction: filterStop.id, time: currentTimeISO});\n\t\tconst inputCurrent = inputField.current as HTMLInputElement\n\t\tinputCurrent.value = \"\"\n\t}\n\tconst handleTimeChange = (value: string) => {\n\t\tconst newDateTime = new Date(value).toLocaleString('sv', {year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', timeZone: 'Europe/Berlin' }).replace(' ', 'T')\n\t\tconst formattedDateTime = new Date(value).toLocaleString('de-DE', {year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', timeZone: 'Europe/Berlin' })\n\t\tsetTime(newDateTime)\n\t\tsetDate(formattedDateTime)\n\t\tgetData(stop.id, stop.name, { direction: filterStop.id, time: newDateTime })\n\t}\n\treturn (\n\t\t<div className=\"timetable\" sx={{ minHeight: \"75vh\" }}>\n\t\t\t{inputField && (\n\t\t\t\t<Input filterStops={getStopSelection} inputField={inputField} />\n\t\t\t)}\n\t\t\t<Select\n\t\t\t\thandleChange={handleChange}\n\t\t\t\tselection={selection}\n\t\t\t\tstop={stop}\n\t\t\t\tmode=\"dep\"\n\t\t\t/>\n\t\t\t<Button handleSubmit={handleSubmit} />\n\t\t\t<div>\n\t\t\t\t<span sx={{ display: \"inline-block\", mr: \"0.2rem\", fontStyle: \"italic\", fontWeight: 700 }}>via</span>\n\t\t\t\t<Input filterStops={getFilterStopSelection} inputField={viaInputField} />\n\t\t\t\t<Filter handleChange={handleFilterChange} selection={filterSelection} stop={filterStop} />\n\t\t\t</div>\n\t\t\t<ProductsFilter \n\t\t\t\tproducts={\n\t\t\t\t\t[ \n\t\t\t\t\t\texpress, \n\t\t\t\t\t\tregional, \n\t\t\t\t\t\tsuburban, \n\t\t\t\t\t\tsubway, \n\t\t\t\t\t\ttram, \n\t\t\t\t\t\tbus, \n\t\t\t\t\t\tferry \n\t\t\t\t\t]\n\t\t\t\t} \n\t\t\t\tproductSetters={\n\t\t\t\t\t[ \n\t\t\t\t\t\tsetExpress, \n\t\t\t\t\t\tsetRegional, \n\t\t\t\t\t\tsetSuburban, \n\t\t\t\t\t\tsetSubway, \n\t\t\t\t\t\tsetTram, \n\t\t\t\t\t\tsetBus, \n\t\t\t\t\t\tsetFerry \n\t\t\t\t\t]\n\t\t\t\t} \n\t\t\t\tgetData={(options: Options) => getData(stop.id, stop.name, options)} \n\t\t\t/>\n\t\t\t<TimeSelect time={time} setTime={handleTimeChange} />\n\t\t\t<StopBody\n\t\t\t\tstop={stop}\n\t\t\t\tdata={data}\n\t\t\t\terror={error}\n\t\t\t\tdate={date}\n\t\t\t\tmode=\"dep\"\n\t\t\t/>\n\t\t</div>\n\t)\n}\n","import React from \"react\"\n// import { BrowserRouter as Router, Routes, Route } from \"react-router-dom\"\nimport LegendDep from \"../components/LegendDep/LegendDep\"\nimport Timetable from \"../components/Timetable/Timetable\"\n// const LegendDep = lazy(() => import(\"../components/LegendDep\"))\n// const Timetable = lazy(() => import(\"../components/Timetable\"))\n\nfunction VBBDepartures() {\n  // let pathProps\n  // switch(process.env.NODE_ENV) {\n  //   case \"development\":\n  //     pathProps = { basename: process.env.PUBLIC_URL }\n  //     //  pathProps = {}\n  //     break\n  //   case \"production\":\n  //     pathProps = { basename: process.env.PUBLIC_URL }\n  //     // pathProps = {}\n  //     break\n  //   default:\n  //     pathProps = { basename: process.env.PUBLIC_URL }\n  //     // pathProps = {}\n  // }\n  return (\n    <div>\n      <LegendDep />\n      {/* <Router { ...pathProps }>\n        <Routes>\n          <Route path=\"/:stopId\" element={<Timetable />} />\n          <Route path=\"\" element={< Timetable />} />\n          <Route path=\"*\" element={< Timetable />} />\n        </Routes>\n      </Router> */}\n      <Timetable />\n    </div>\n  )\n}\n\nexport default VBBDepartures\n"],"names":["Legendrow","_ref","left","right","_jsxs","React","children","_jsx","className","sx","gridColumn","textAlign","LegendDep","display","gridTemplateColumns","border","width","margin","borderRadius","getLocale","Timetable","selection","setSelection","useDebugState","filterSelection","setFilterSelection","stop","setStop","id","name","type","filterStop","setFilterStop","data","setData","date","setDate","error","setError","express","setExpress","regional","setRegional","suburban","setSuburban","subway","setSubway","tram","setTram","bus","setBus","ferry","setFerry","time","setTime","Date","toLocaleString","timeZone","minute","hour","day","month","year","replace","params","useParams","searchParams","setSearchParams","useSearchParams","navigate","useNavigate","useEffect","async","hasOwnProperty","length","stationUrl","concat","response","fetch","station","json","filterId","has","get","filterUrl","filterResponse","filterStation","filterName","getData","direction","document","title","navigator","language","startsWith","console","debug","modifiedId","slice","initialId","initialName","findInitialStop","inputField","useRef","viaInputField","options","includes","getType","duration","getDuration","lang","parseInt","directionSnippet","myDate","myTime","url","toString","toISOString","status","resData","departures","minHeight","Input","filterStops","searchValue","event","target","value","getStopsUrl","newData","Select","handleChange","currentStop","myStopId","currentStopName","current","mode","Button","handleSubmit","currentTime","currentTimeISO","mr","fontStyle","fontWeight","nullElement","fdata","Filter","ProductsFilter","products","productSetters","TimeSelect","newDateTime","formattedDateTime","StopBody"],"sourceRoot":""}