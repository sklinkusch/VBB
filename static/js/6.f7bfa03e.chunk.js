(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{117:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=(a(22),a(56)),l=a.n(r),i=a(57),u=a(55),s=a(14),o=a(58),f=a.n(o),b=(a(67),a(68)),m=a(69),d=a(70),O=a(76),j=a(72),v=a(75),h=a(54);function E(e){var t=Object(n.useState)(v.a),a=Object(s.a)(t,1)[0],r=Object(n.useState)(v.a),o=Object(s.a)(r,2),E=o[0],p=o[1],w=Object(n.useState)({}),g=Object(s.a)(w,2),C=g[0],L=g[1],S=Object(n.useState)([]),k=Object(s.a)(S,2),N=k[0],D=k[1],R=Object(n.useState)([]),y=Object(s.a)(R,2),x=y[0],B=y[1],F=Object(n.useState)(null),J=Object(s.a)(F,2),T=J[0],G=J[1];Object(n.useEffect)(function(){var e=v.a.filter(function(e){return"U Stadtmitte"===e.name}),t=Object(s.a)(e,1)[0],n=t.id;L(t),I(n);var c=a.filter(function(e){return e.name!==t.name}),r=[t].concat(Object(u.a)(c));p(r)},[]);var H=Object(n.useRef)(null),P=Object(n.useRef)(null),U=Object(n.useRef)(null),q=function(e){var t=N.filter(function(t){for(var a=!1,n=0;n<e.length;n++)if(t.line.name.toLowerCase().includes(e[n].toLowerCase())||t.direction.toLowerCase().includes(e[n].toLowerCase())){a=!0;break}return a});B(t)},z=function(e){var t=N.filter(function(t){for(var a=!0,n=0;n<e.length;n++)if(!t.line.name.toLowerCase().includes(e[n].toLowerCase())&&!t.direction.toLowerCase().includes(e[n].toLowerCase())){a=!1;break}return a});B(t)},A=function(){B(N)},I=function(){var e=Object(i.a)(l.a.mark(function e(t){var n,c,r,i,u,o,b,m,d,O,j;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.filter(function(e){return e.id===t}),c=Object(s.a)(n,1),r=c[0],i=r.type,u=void 0===i?"BBG":i,o=Object(h.a)(u),b="https://sklinkusch-vbbmicro.now.sh/?station=".concat(t,"&duration=").concat(o),e.next=7,f.a.get(b);case 7:return m=e.sent,e.next=10,m;case 10:d=e.sent,O=d.data,500===(j=d.status)||200!==j?(G("HTTP status code: ".concat(j)),D([])):(D(O),B(O),G(null));case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"timetable"},c.a.createElement(b.a,{filterStops:function(e){!function(e){var t=a.filter(function(t){return t.id!==C.id&&t.name.toLowerCase().includes(e.toLowerCase())}),n=[C].concat(Object(u.a)(t));p(n)}(e.target.value)},inputField:H}),c.a.createElement(m.a,{handleChange:function(e){L(e);var t=e.id;I(t),H.current.value="",P.current.value="",U.current.value="OR"},selection:E,stop:C}),c.a.createElement(d.a,{handleSubmit:function(){I(C.id),H.current.value="",P.current.value="",U.current.value="OR"}}),c.a.createElement(j.a,{filterField:P,filterSelector:U,filterData:function(e){var t=P.current.value.split(" "),a=U.current.value;t.length>0?"OR"===a?q(t):z(t):A()}}),c.a.createElement(O.a,{stop:C,data:x,error:T}))}var p=a(73),w=a(8);a(74);function g(){return c.a.createElement("div",{className:"legend"},c.a.createElement("h3",{className:"col-24"},Object(w.a)("legend")),c.a.createElement(p.a,{left:Object(w.a)("scheduled"),right:Object(w.a)("scheduledDesc")}),c.a.createElement(p.a,{left:Object(w.a)("real"),right:Object(w.a)("realDesc")}),c.a.createElement(p.a,{left:Object(w.a)("delay"),right:Object(w.a)("delayDesc")}),c.a.createElement(p.a,{left:Object(w.a)("line"),right:Object(w.a)("lineDesc")}),c.a.createElement(p.a,{left:Object(w.a)("direction"),right:Object(w.a)("directionDesc")}),c.a.createElement(p.a,{left:c.a.createElement("span",{className:"fas fa-wheelchair"}),right:Object(w.a)("barrierfree")}),c.a.createElement(p.a,{left:c.a.createElement("span",{className:"fas fa-bicycle"}),right:Object(w.a)("bike")}),c.a.createElement(p.a,{left:c.a.createElement("span",{className:"fas fa-exclamation-triangle"}),right:Object(w.a)("attention")}),c.a.createElement(p.a,{left:c.a.createElement("span",{className:"fas fa-times"}),right:Object(w.a)("cancelled")}))}t.default=function(){return c.a.createElement("div",null,c.a.createElement(g,null),c.a.createElement(E,null))}}}]);
//# sourceMappingURL=6.f7bfa03e.chunk.js.map